<template>
    <div style="width:100%;" class="slds-card_boundary related_list_card_border_top">
        <div class="related_list_themed_border_top"></div>
        <lightning-card icon-name={icon} >
            <span slot="title" class="slds-card__header-title slds-card__header-link">
                {label} ({totalNumberOfRows})
                
            </span>
            <!-- <lightning-button-icon icon-name="utility:refresh"
                                    tooltip="Refresh Records"
                                    alternative-text="Refresh Records"
                                    onclick={getRefreshRecords}
                                    slot="actions">
            </lightning-button-icon> -->
            <!-- <template for:each={records} for:item="rec">
                <li key={rec.Id}>{rec.Account.Name}</li>
            </template> -->
            <template if:true={records}>
                <div class="slds-card__body slds-card__body--inner">
                    <lightning-datatable
                        key-field="id"
                        data={records}
                        columns={columns}
                        enable-infinite-loading
                        onloadmore={loadMoreData}
                        is-loading={tableLoadingState}
                        onsort={updateColumnSorting}
                        sorted-by={sortedBy}
                        sorted-direction={sortDirection}
                        hide-checkbox-column
                        onrowaction={handleRowAction}
                        >
                    </lightning-datatable>
                </div>
            </template>
            <template if:false={records}>
                <div class="slds-card__body slds-card__body--inner">
                    <div class="errorMessage">{labels.no_records}</div>
                </div>
            </template>
        </lightning-card>
    </div>
</template>